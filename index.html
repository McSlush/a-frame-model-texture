<html>
  <head>
      <script src="https://rawgit.com/aframevr/aframe/3035117/dist/aframe-master.min.js"></script>
    <script>
      AFRAME.registerComponent("boom-texture", {
        schema: {
          textures: {default: []},
          texture: {default: "model/boombox/BoomBox_baseColor.png"},
        },

        init: function() {
          var el = this.el;
          var textures = this.data.textures;
          var texture = this.data.texture;
          var material = "";

          textures.push(new THREE.TextureLoader().load('model/boombox/BoomBox_baseColor.png'));
          textures.push(new THREE.TextureLoader().load('model/boombox/BoomBox_occlusionRoughnessMetallic.png'));

          el.addEventListener('model-loaded', function (e) {
            e.detail.model.traverse(function(node) {
              if (node.isMesh) {
                material = node.material.map ;
              }
            });
          });

          el.addEventListener('click', function (e) {
            //console.log(material.image);
            //console.log("current", material.image.getAttribute("src"))
            //console.log("tex", textures[0].image.getAttribute("src"))
            //console.log("src", material.image.getAttribute("src"))
            var currentImg= material.image;
            console.log(currentImg.getAttribute("src"));
            console.log(textures[0].image.getAttribute("src"));
            if(currentImg.getAttribute("src") != textures[1].image.getAttribute("src")) {
              texture = textures[1].image.getAttribute("src");
              currentImg.setAttribute("src", texture);
            } else {
              texture = textures[0].image.getAttribute("src");
              currentImg.setAttribute("src", texture);
            }
          });


        },

      });

    </script>
  </head>
  <body>
    <a-scene>
    <a-assets>
      <a-asset-item id="boombox1" src="model/boombox/BoomBox.gltf"></a-asset-item>
    </a-assets>
      <a-camera>
        <a-cursor></a-cursor>
      </a-camera>
    <a-entity id="boom1" boom-texture gltf-model="#boombox1"  scale="50 50 50" position="0 2 -4"></a-entity>

  </a-scene>
  </body>
</html>
